<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>컬렉션중심의 프로그램</title>
    <script src="./js/_.js"></script>
</head>
<body>
<script>
    // 앞에 있는 것(대표함수)은 추상화 레벨이 높아 활용하여 확장 할 수 있다.
    // 1. 수집하기 - map, values, pluck 등
    // 2. 거르기 - filter, reject, compact, without 등
    // 3. 찾아내기 - find, some, every 등
    // 4. 접기 - reduce, min, max, group_by, count_by

    var users = [
        { id: 10, name: 'ID', age: 36 },
        { id: 20, name: 'BJ', age: 32 },
        { id: 30, name: 'JM', age: 32 },
        { id: 40, name: 'PJ', age: 27 },
        { id: 50, name: 'HA', age: 25 },
        { id: 60, name: 'JE', age: 26 },
        { id: 70, name: 'JI', age: 31 },
        { id: 80, name: 'MP', age: 23 },
        { id: 90, name: 'FP', age: 13 }
    ];

    // 컬렉션 중심 프로그래밍의 유형별 함수 만들기
    // 1. 수집하기 - map => 내부에 있는 값을 수집한다.
    console.log(
        _map(users, function (user) {
            return user.name;
        })
    );
    // 1. 수집하기 - map
    console.log("users");
    console.log(users[0]);
    console.log("users_keys");
    console.log(_keys(users[0]));
    console.log("users_values");
    console.log(_values(users[0]));


    //   2. pluck
    console.log( _pluck(users, 'age') );
    console.log( _pluck(users, 'name') );
    console.log( _pluck(users, 'id') );
    // [33, 22, 11, ...]


    // 2. 거르기 - filter
    console.log(
        _filter(users, function (user) {
            return user.age > 30;
        })
    );

    //   1. reject
    console.log(
        _reject(users, function (user) {
            return user.age > 30;
        })
    );

    //   2. compact
    console.log(
        _compact([1, 2, 0, false, null, {}, undefined, true])
    );


    // 3. 찾아내기 - find
    //   1. find 만들기
    var _find = _curryr(function _find(list, predi) {
        var keys = _keys(list);
        for (var i = 0, len = keys.length; i < len; i++) {
            var val = list[keys[i]];
            if(predi(val)) return val;
        }
    });

    console.log(
        _find(users, function (user) {
            return user.id == 20;
        })
    );

    //   2. find_index
    console.log(
        _find_index(users, function (user) {
            return user.id == 50;
        })
    );

    console.log(
        _get(_find(users, function (user) {
            return user.id == 50;
        }), 'name')
    );

    _go(users,
        _find(function (user) { return user.id == 50;}),
        _get('name'),
        console.log);

    //   3. some
    console.log(
    _some([1, 2, 4, 10, 20], function (val) {
        return val > 10;
    }));

    //   4. every
    console.log(
    _every([1, 2, 4, 10, 20], function (val) {
        return val > 10;
    }));

    console.log(
    _every([12, 22, 34, 10, 20], function (val) {
        return val > 3;
    }));

    console.log(
        _some(users, function (user) {
            return user.age < 1;
        })
    );

    // 4. 접기 - reduce



</script>


</body>
</html>