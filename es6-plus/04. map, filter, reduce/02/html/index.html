<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>map+filter+reduce 중첩 사용과 함수형 사고</title>
</head>
<script src="../lib/fx.js"></script>
<body>
<script>
    const products = [
        { name: '반팔티', price: 15000 },
        { name: '긴팔티', price: 20000 },
        { name: '핸드폰케이스', price: 15000 },
        { name: '후드티', price: 30000 },
        { name: '바지', price: 25000 }
    ];

    //1. 가격만 뽑아라.
    log(map(p=>p.price, products))

    //2. 가격이 2만원 미만인 제품의 가격만 뽑아라.
    log(map(p=>p.price, filter(p=>p.price < 20000 ,products)));

    //3. 가격이 2만원 미만인 제품의 가격의 합을 뽑아라.
    const add = (a, b) => a + b;
    log(reduce(add, map(p=>p.price, filter(p=>p.price < 30000 ,products))));
    //* 중첩되어 읽기 어렵게 느껴 지지만 오른쪽에서 왼쪽으로 읽어 가면 어렵지 않다.
    //* products 에 price가 20000 미만인 제품에 대해서 합을 구하라.

    log(reduce(
        add,
        filter(n => n < 30000, map(p=>p.price, products))
    ))

</script>

</body>
</html>